##关于射线的思考

#### 空间向量与几何体是否有交点？

+ 任意几何体都是可以用三角面表示

+ 那么问题就成了空间向量与三角区域是否有交点

####  转化空间向量与三角面是否相交问题

+ 首先计算该空间向量与三角区域所在平面的法向量是否垂直?如果垂直则与该平面不相交,如果相交则成了平面问题;

####  转化为平面上的点是否在三角区域问题

+ 假设该空间向量和三角区域所在平面的交点为D，三角区域三个顶点为A,B,C;
+ 那么三角区域ABC面积为S0，三角区域DAB面积为S1，三角区域DBC面积为S2,三角区域DCA面积为S3;
+ 在误差范围内  S1+S2+S3 === S0 表示点在三角区域

#### -------------如何优化？---------------------


#### 情景案例 （虚拟商城）

+ 假设我在虚拟商城中要添加一万个商品模型，每个商品有一万个三角面片，如何判断选中了哪个商品？
+ 如果我要判断点击选中了哪个商品，那么照上述办法，那么有可能需要对一千万个三角面片做是否相交判断，然后
  根据相交面片排序选择一个离射线源最近的三角面片，再根据该三角面片属于哪个商品从而判断选中了哪个商品。这样
  可以实现目的，但是计算量是非常大的！

#### 优化办法   

+ 一个商品模型有很多个顶点，取出单个xyz的极值六个顶点：px,py,pz,nx,ny,nz; px代表所有顶点中x值最大的那个顶点；
+ 我们用px,py,pz,nx,ny,nz六个顶点绘制的几何体代表商品模型;
+ 实际上我们通过硬件设备扫描模型的时候可以把这六个点提前算好，以json格式给出，在程序中直接使用这六个顶点
  的几何体代表该商品模型；
+ 一个超级复杂的模型用一个只有六个顶点的几何体表示，可以极大减少运算！

####-----------2019.5.12 深夜 -------------------

  
